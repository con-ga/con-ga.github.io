<html>
<head>
<script type="text/javascript">
const noiDung = {};
function layTapTin(tapTin)
{
    return fetch(tapTin). then(response => response.text());
}
function layNoiDung()
{
    alert("layTapTin");
    layTapTin("danh-sach.htm"). then (danhSach => tachDanhSach(danhSach));/*. then(kq => {
        alert (noiDung);
        alert(noiDung["day-keo.htm"]);
        alert(noiDung["chi-may-nho.htm"]);
    });*/
    alert("het layTapTin");
}

function tachDanhSach(danhSach)
{
    //const mang = [];
    const mang = danhSach.split("\r\n");
    return Promise.all(
        mang.map(tapTin => {
            return layTapTin(tapTin).then(alert);/*(nd => {
                noiDung[tapTin] = nd;
            });*/
        })
    );
}
</script>
</head>
<body>23
<script>
alert("layNoiDung");
layNoiDung();
alert("het layNoiDung");
</script>    
</body>
</html>
