<html>
<head>
<script>
navigator.serviceWorker.addEventListener("message", function(ev) {
    ev.data.forEach(alert);
});
function sendMsg(msg)
{
    navigator.serviceWorker.controller.postMessage(msg);
}
</script>    
</head>
<body>
<input id="message" type= "text" /><button onclick="sendMsg(message.value);">Send message</button>    
</body>
</html>